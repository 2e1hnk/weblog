<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!-- Compiled and minified CSS -->
<link rel="stylesheet" th:href="@{/webjars/foundation/dist/css/foundation.min.css}">
<link rel="stylesheet" th:href="@{/css/app.css}">
<link
	href='https://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css'
	rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
   crossorigin=""/>
<style>
	#map { height: 500px; }
</style>
</head>
<body>

	<!-- navbar -->
	<div class="top-bar">
		<div class="top-bar-left">
			<ul class="dropdown menu" data-dropdown-menu>
				<li class="menu-text">WebLog</li>
				<li><a href="#">File</a>
					<ul class="menu vertical">
						<li><a href="/file">Import ADIF File</a></li>
						<li><a href="/file/download">Export Log as ADIF File</a></li>
						<li><a href="#">Three</a></li>
					</ul></li>
				<li><a href="#"><span sec:authentication="name"><i class="fi-torso"></i> username</span></a>
					<ul class="menu vertical">
						<li><a href="/profile" th:text="#{lang.profile}"></a></li>
						<li sec:authorize="hasRole('ROLE_ADMIN')"><a href="/admin" th:text="#{lang.admin}"></a></li>
						<li><a href="/login?logout" th:text="#{lang.logout}"></a></li>
					</ul>
				</li>
				
				<li class="settings">
					<div class="switch tiny" style="margin-bottom: 0px; top: 5px;">
						<input class="switch-input" id="liveSwitch" type="checkbox" name="liveSwitch" />
						<label class="switch-paddle" for="liveSwitch">
							<span class="show-for-sr">Live logging?</span>
							<span class="switch-active" aria-hidden="true" th:text="#{lang.live}"></span>
							<span class="switch-inactive" aria-hidden="true" th:text="#{lang.edit}"></span>
						</label>
					</div>
				</li>
				<!--
				<li><input type="search" placeholder="Search"></li>
				<li><button type="button" class="button">Search</button></li>
				-->
			</ul>
		</div>
		<div class="top-bar-right">
			<ul class="menu tabs" data-tabs id="view-tabs">
			  <li class="tabs-title is-active"><a href="#tab-list" aria-selected="true"><i class="fi-list"></i> <span th:text="#{lang.list}"></span></a></li>
			  <li class="tabs-title"><a data-tabs-target="tab-map" href="#tab-map"><i class="fi-map"></i> <span th:text="#{lang.map}"></span></a></li>
			</ul>
		</div>
	</div>
	<!-- end navbar -->

	<!-- content pane -->
	<div class="grid-x">
		<div class="cell small-12 medium-4 large-3">
			<form action="#" th:action="@{/contact/addcontact}" th:object="${contact}"
				method="post">
				<div class="grid-container">
					<div class="grid-x grid-padding-x">
						<div class="cell small-12">
							<label for="datetime"><span th:text="#{lang.date_time}"></span>
								<input type="datetime" class="input-group-field" th:field="*{timestamp}" id="timestamp" placeholder="Date/Time" ondblclick="javascript: document.getElementById('timestamp').value=new Date()" />
							</label>
							<span th:if="${#fields.hasErrors('timestamp')}"	th:errors="*{timestamp}"></span>
						</div>

						<div class="cell small-12">
							<label for="callsign"><span th:text="#{lang.callsign}"></span>
								<input type="text" th:field="*{callsign}" id="callsign" placeholder="Callsign" />
							</label>
							<span th:if="${#fields.hasErrors('callsign')}" th:errors="*{callsign}"></span>
						</div>
						<div class="cell small-12 medium-6">
							<label for="rsts"><span th:text="#{lang.report_sent}"></span>
								<input type="text" th:field="*{rsts}" id="rsts" value="59" />
							</label>
						</div>
						<div class="cell small-12 medium-6">
							<label for="rsts"><span th:text="#{lang.report_received}"></span>
								<input type="text" th:field="*{rstr}" id="rstr" value="59" />
							</label>
						</div>
						<div class="cell small-12 medium-6">
							<label for="location"><span th:text="#{lang.location}"></span>
								<input type="text" th:field="*{location}" id="location" />
							</label>
						</div>
						<div class="cell small-12 medium-6">
							<label for="name"><span th:text="#{lang.name}"></span>
								<input type="text" th:field="*{name}" id="name" />
							</label>
						</div>
						<div class="cell small-12 medium-6">
							<label for="frequency"><span th:text="#{lang.frequency}"></span>
								<input type="text" th:field="*{frequency}" id="frequency" />
							</label>
						</div>
						<div class="cell small-6 medium-6">
							<label for="band"><span th:text="#{lang.band}"></span>
								<input type="text" th:field="*{band}" id="band" />
							</label>
						</div>
						<div class="cell small-6 medium-6">
							<label for="mode"><span th:text="#{lang.mode}"></span>
								<input type="text" th:field="*{mode}" id="mode" />
							</label>
						</div>
						<fieldset class="cell small-12">
						    <legend><span th:text="#{lang.qsl}"></span></legend>
						    <label for="qsl_req"><input id="qsl_req" type="checkbox" th:field="*{qsl_req}"><span th:text="#{lang.requested}"></span></label>
						    <label for="qsl_sent"><input id="qsl_sent" type="checkbox" th:field="*{qsl_sent}"><span th:text="#{lang.sent}"></span></label>
						    <label for="qsl_rcvd"><input id="qsl_rcvd" type="checkbox" th:field="*{qsl_rcvd}"><span th:text="#{lang.received}"></span></label>
						</fieldset>
						<div class="cell small-12">
							<input type="submit" class="button" th:value="#{lang.log}">
						</div>
					</div>
				</div>
			</form>
		</div>
		<div class="cell small-12 medium-8 large-9">
			<div data-tabs-content="view-tabs">
  				<div class="tabs-panel is-active" id="tab-list">
  					<ul class="accordion" data-accordion data-allow-all-closed="true">
  						<li class="accordion-item is-active" data-accordion-item>
  							<a href="#" class="accordion-title"><span th:text="#{lang.callbook}"></span> <span id="callbook-status"></span></a>
  							<div class="accordion-content" data-tab-content>
			  					<div class="grid-x">
			  						<div class="cell small-12 medium-9">
			  							<span id="callbook-tag-lotw" class="label primary" style="visibility: hidden">LoTW</span>
			  							<span id="callbook-tag-eqsl" class="label secondary" style="visibility: hidden">eQSL AG</span>
			  							<span id="callbook-tag-eqsl" class="label success" style="visibility: hidden">eQSL AG</span>
			  							
			  							<span id="callbook-name"></span> <span id="callbook-callsign"></span> <span id="callbook-aliases"></span><br />
			  							<span id="callbook-address"></span><br />
			  							<span id="callbook-grid"></span>
			  						</div>
			  						<div class="cell small-12 medium-3">
			  							<img id="callbook-image" />
			  						</div>
			  					</div>
			  				</div>
			  			</li>
  						<li class="accordion-item" data-accordion-item>
  							<a href="#" class="accordion-title"><span th:text="#{lang.previous_contacts}"></span> <span class="badge secondary" id="previous-contacts-count"></span><span id="previous-contacts-status"></span></a>
  							<div class="accordion-content" data-tab-content>
			  					<div class="grid-x">
			  						<div class="cell small-12">
										<table id="previous-contacts">
											<thead>
												<tr>
													<th><span th:text="#{lang.date_time}"></span></th>
													<th><span th:text="#{lang.report_sent}"></span></th>
													<th><span th:text="#{lang.report_received}"></span></th>
												</tr>
											</thead>
											<tbody>
											<tr></tr>
											</tbody>
										</table>
			  						</div>
			  					</div>
			  				</div>
			  			</li>
			  		</ul>
					<div th:switch="${contacts}">
						<div th:case="*">
							<table>
								<thead>
									<tr>
										<th><span th:text="#{lang.date_time}"></span></th>
										<th><span th:text="#{lang.callsign}"></span></th>
										<th><span th:text="#{lang.report_sent}"></span></th>
										<th><span th:text="#{lang.report_received}"></span></th>
										<th><span th:text="#{lang.band}"></span></th>
										<th><span th:text="#{lang.mode}"></span></th>
										<th><span th:text="#{lang.location}"></span></th>
										<th><span th:text="#{lang.name}"></span></th>
										<th colspan="2"><span th:text="#{lang.actions}"></span></th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="contact : ${contacts}">
										<td th:text="${contact.timestamp}"></td>
										<td th:text="${contact.callsign}"></td>
										<td th:text="${contact.rsts}"></td>
										<td th:text="${contact.rstr}"></td>
										<td th:text="${contact.band}"></td>
										<td th:text="${contact.mode}"></td>
										<td th:text="${contact.location}"></td>
										<td th:text="${contact.name}"></td>
										<td><a class="waves-effect waves-light btn-small"
											th:href="@{/contact/edit/{id}(id=${contact.id})}"><i class="fi-pencil"></i></a></td>
										<td><a class="waves-effect waves-light btn-small"
											th:href="@{/contact/delete/{id}(id=${contact.id})}"><i class="fi-trash"></i></a></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<div class="tabs-panel" id="tab-map">
					<div id="map"></div>
				</div>
			</div>
		</div>
	</div>
	<!-- end content pane -->

	<!-- Compiled and minified JavaScript -->
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script src="/webjars/foundation/dist/js/foundation.min.js"></script>
	
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
 <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
   integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
   crossorigin=""></script>
   	<script th:src="@{/js/app.js}"></script>
   	<script>

	</script>
</body>

</html>