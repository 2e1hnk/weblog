<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!-- Compiled and minified CSS -->
<link rel="stylesheet" th:href="@{/css/foundation.min.css}">
<link
	href='https://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css'
	rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
   crossorigin=""/>
<style>
	#map { height: 500px; }
</style>
</head>
<body>

	<!-- navbar -->
	<div class="top-bar">
		<div class="top-bar-left">
			<ul class="dropdown menu" data-dropdown-menu>
				<li class="menu-text">GB1WSG</li>
				<li><a href="#">One</a>
					<ul class="menu vertical">
						<li><a href="#">One</a></li>
						<li><a href="#">Two</a></li>
						<li><a href="#">Three</a></li>
					</ul></li>
				<li><a href="#">Two</a></li>
				<li><a href="#">Three</a></li>
				<li><input type="search" placeholder="Search"></li>
				<li><button type="button" class="button">Search</button></li>
			</ul>
		</div>
		<div class="top-bar-right">
			<ul class="menu tabs" data-tabs id="view-tabs">
			  <li class="tabs-title is-active"><a href="#tab-list" aria-selected="true"><i class="fi-list"></i> List</a></li>
			  <li class="tabs-title"><a data-tabs-target="tab-map" href="#tab-map"><i class="fi-map"></i> Map</a></li>
			</ul>
		</div>
	</div>
	<!-- end navbar -->

	<!-- content pane -->
	<div class="grid-x">
		<div class="cell small-12 medium-4 large-3">
			<form action="#" th:action="@{/contact/addcontact}" th:object="${contact}"
				method="post">
				<div class="grid-container">
					<div class="grid-x grid-padding-x">
						<div class="cell small-12">
							<label for="callsign">Date/Time
								<input type="datetime" class="input-group-field" th:field="*{timestamp}" id="timestamp" placeholder="Date/Time" ondblclick="javascript: document.getElementById('timestamp').value=new Date()" />
							</label>
							<span th:if="${#fields.hasErrors('timestamp')}"	th:errors="*{timestamp}"></span>
						</div>
						<div class="cell small-12">
							<label for="callsign">Callsign
								<input type="text" th:field="*{callsign}" id="callsign" placeholder="Callsign" />
							</label>
							<span th:if="${#fields.hasErrors('callsign')}" th:errors="*{callsign}"></span>
						</div>
						<div class="cell small-12 medium-6">
							<label for="rsts">RST (sent)
								<input type="text" th:field="*{rsts}" id="rsts" value="59" />
							</label>
						</div>
						<div class="cell small-12 medium-6">
							<label for="rsts">RST (rcvd)
								<input type="text" th:field="*{rstr}" id="rstr" value="59" />
							</label>
						</div>
						<div class="cell small-12 medium-6">
							<label for="location">Location
								<input type="text" th:field="*{location}" id="location" />
							</label>
						</div>
						<div class="cell small-12 medium-6">
							<label for="name">Name
								<input type="text" th:field="*{name}" id="name" />
							</label>
						</div>
						<div class="cell small-12 medium-6">
							<label for="frequency">Frequency
								<input type="text" th:field="*{frequency}" id="frequency" />
							</label>
						</div>
						<div class="cell small-6 medium-6">
							<label for="band">Band
								<input type="text" th:field="*{band}" id="band" />
							</label>
						</div>
						<div class="cell small-6 medium-6">
							<label for="mode">Mode
								<input type="text" th:field="*{mode}" id="mode" />
							</label>
						</div>
						<fieldset class="cell small-12">
						    <legend>QSL</legend>
						    <label for="qsl_req"><input id="qsl_req" type="checkbox" th:field="*{qsl_req}">Requested</label>
						    <label for="qsl_sent"><input id="qsl_sent" type="checkbox" th:field="*{qsl_sent}">Sent</label>
						    <label for="qsl_rcvd"><input id="qsl_rcvd" type="checkbox" th:field="*{qsl_rcvd}">Received</label>
						</fieldset>
						<div class="cell small-12">
							<input type="submit" class="button" value="Log">
						</div>
					</div>
				</div>
			</form>
		</div>
		<div class="cell small-12 medium-8 large-9">
			<div data-tabs-content="view-tabs">
  				<div class="tabs-panel is-active" id="tab-list">
  					<ul class="accordion" data-accordion data-allow-all-closed="true">
  						<li class="accordion-item is-active" data-accordion-item>
  							<a href="#" class="accordion-title">Callbook <span id="callbook-status"></span></a>
  							<div class="accordion-content" data-tab-content>
			  					<div class="grid-x">
			  						<div class="cell small-12 medium-9">
			  							<span id="callbook-name"></span> <span id="callbook-callsign"></span> <span id="callbook-aliases"></span><br />
			  							<span id="callbook-address"></span><br />
			  							<span id="callbook-grid"></span>
			  						</div>
			  						<div class="cell small-12 medium-3">
			  							<img id="callbook-image" />
			  						</div>
			  					</div>
			  				</div>
			  			</li>
  						<li class="accordion-item" data-accordion-item>
  							<a href="#" class="accordion-title">Previous Contacts <span class="badge secondary" id="previous-contacts-count"></span><span id="previous-contacts-status"></span></a>
  							<div class="accordion-content" data-tab-content>
			  					<div class="grid-x">
			  						<div class="cell small-12">
										<table id="previous-contacts">
											<thead>
												<tr>
													<th>Date/Time</th>
													<th>RST (sent)</th>
													<th>RST (rcvd)</th>
												</tr>
											</thead>
											<tbody>
											<tr></tr>
											</tbody>
										</table>
			  						</div>
			  					</div>
			  				</div>
			  			</li>
			  		</ul>
					<div th:switch="${contacts}">
						<div th:case="*">
							<table>
								<thead>
									<tr>
										<th>Date/Time</th>
										<th>Callsign</th>
										<th>RST (sent)</th>
										<th>RST (rcvd)</th>
										<th>Band</th>
										<th>Mode</th>
										<th>Location</th>
										<th>Name</th>
										<th colspan="2">Actions</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="contact : ${contacts}">
										<td th:text="${contact.timestamp}"></td>
										<td th:text="${contact.callsign}"></td>
										<td th:text="${contact.rsts}"></td>
										<td th:text="${contact.rstr}"></td>
										<td th:text="${contact.band}"></td>
										<td th:text="${contact.mode}"></td>
										<td th:text="${contact.location}"></td>
										<td th:text="${contact.name}"></td>
										<td><a class="waves-effect waves-light btn-small"
											th:href="@{/contact/edit/{id}(id=${contact.id})}"><i class="fi-pencil"></i></a></td>
										<td><a class="waves-effect waves-light btn-small"
											th:href="@{/contact/delete/{id}(id=${contact.id})}"><i class="fi-trash"></i></a></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<div class="tabs-panel" id="tab-map">
					<div id="map"></div>
				</div>
			</div>
		</div>
	</div>
	<!-- end content pane -->

	<!-- Compiled and minified JavaScript -->
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script th:src="@{/js/vendor/foundation.min.js}"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
 <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
   integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
   crossorigin=""></script>
   	<script th:src="@{/js/app.js}"></script>
   	<script>

	</script>
</body>

</html>