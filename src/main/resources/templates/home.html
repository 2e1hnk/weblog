<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title th:text="${@environment.getProperty('INSTANCE_NAME')}">Weblog</title>

<!-- Compiled and minified CSS -->
<link rel="stylesheet" th:href="@{/webjars/w3-css/w3.css}">
<link rel="stylesheet" th:href="@{/webjars/font-awesome/css/all.min.css}">
<link rel="stylesheet" th:href="@{/css/scout.css}">
<link rel="stylesheet" th:href="@{/css/app.css}">
<link rel="stylesheet" th:href="@{/webjars/leaflet/leaflet.css}" />
<link rel="stylesheet" th:href="@{/css/L.fullscreen.css}" />

<!-- favicon -->
<link rel="apple-touch-icon" sizes="57x57"
	th:href="@{/apple-icon-57x57.png}">
<link rel="apple-touch-icon" sizes="60x60"
	th:href="@{/apple-icon-60x60.png}">
<link rel="apple-touch-icon" sizes="72x72"
	th:href="@{/apple-icon-72x72.png}">
<link rel="apple-touch-icon" sizes="76x76"
	th:href="@{/apple-icon-76x76.png}">
<link rel="apple-touch-icon" sizes="114x114"
	th:href="@{/apple-icon-114x114.png}">
<link rel="apple-touch-icon" sizes="120x120"
	th:href="@{/apple-icon-120x120.png}">
<link rel="apple-touch-icon" sizes="144x144"
	th:href="@{/apple-icon-144x144.png}">
<link rel="apple-touch-icon" sizes="152x152"
	th:href="@{/apple-icon-152x152.png}">
<link rel="apple-touch-icon" sizes="180x180"
	th:href="@{/apple-icon-180x180.png}">
<link rel="icon" type="image/png" sizes="192x192"
	th:href="@{/android-icon-192x192.png}">
<link rel="icon" type="image/png" sizes="32x32"
	th:href="@{/favicon-32x32.png}">
<link rel="icon" type="image/png" sizes="96x96"
	th:href="@{/favicon-96x96.png}">
<link rel="icon" type="image/png" sizes="16x16"
	th:href="@{/favicon-16x16.png}">
<link rel="manifest" th:href="@{/manifest.json}">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage"
	th:content="@{/ms-icon-144x144.png}">
<meta name="theme-color" content="#ffffff">

<!-- fonts -->
<link
	href="https://fonts.googleapis.com/css?family=Roboto+Mono&display=swap"
	rel="stylesheet">

<style>
htmp, body {
	height: 100%;
}
input.monospace {
	font-family: 'Roboto Mono', monospace;
}

.monospace {
	font-family: 'Roboto Mono', monospace;
}

#map {
	min-height: 550px;
}
</style>
</head>
<body>

	<!-- navbar -->
	<div class="w3-bar w3-scout">
		<a href="#" class="w3-bar-item w3-button w3-mobile">
			<img th:src="${@environment.getProperty('INSTANCE_LOGO_SRC')}" style="max-height: 20px; max-width: 20px" />
			<b th:text="${@environment.getProperty('INSTANCE_NAME')}">Weblog</b>
		</a>
		
		<a href="/login" class="w3-bar-item w3-button w3-right">Login</a>

	</div>
	<!-- end navbar -->

	<!-- content pane -->
	<div class="w3-row">
		<div class="w3-container w3-half">
			<div class="w3-row" style="margin-top: 20px;">
				<div class="w3-container w3-third">
					<div class="w3-card">
						<header class="w3-container w3-scout-l3">
						  <h4>Total Contacts Logged</h4>
						</header>
						<div class="w3-container">
						  <h1 th:text="${TotalContacts}"></h1>
						</div>
						<footer class="w3-container w3-scout-l3">
						  <h5>Since <span th:text="${firstContactTimeAgo}"></span></h5>
						</footer>
					</div>
				</div>

				<div class="w3-container w3-third">
					<div class="w3-card">
						<header class="w3-container w3-scout-l3">
						  <h4>Last Contact was with</h4>
						</header>
						<div class="w3-container">
						  <h1 th:text="${latestContactCallsign}"></h1>
						</div>
						<footer class="w3-container w3-scout-l3">
						  <h5 th:text="${latestContactTimeAgo}">Footer</h5>
						</footer>
					</div>
				</div>

				<div class="w3-container w3-third">
					<div class="w3-card">
						<header class="w3-container w3-scout-l3">
						  <h4>Total Contacts Logged</h4>
						</header>
						<div class="w3-container">
						  <h1 th:text="${TotalContacts}"></h1>
						</div>
					</div>
				</div>
			</div>
			<div class="w3-row" style="margin-top: 20px;">
				<div class="w3-container">
					<div class="w3-card">
						<canvas id="bandStatsChart"></canvas>
						2M Contacts: <span th:text="${band_2M}"></span>
					</div>
				</div>
			</div>
		</div>

		<div class="w3-container w3-half">
			<div id="map"></div>
		</div>
	</div>
	<!-- end content pane -->

	<!-- Compiled and minified JavaScript -->
	<!-- <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script> -->
	<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
	<script th:src="@{/webjars/foundation/dist/js/foundation.min.js}"></script>
	<script th:src="@{/webjars/sockjs-client/sockjs.min.js}"></script>
	<script th:src="@{/webjars/stomp-websocket/stomp.min.js}"></script>
	<script th:src="@{/webjars/momentjs/min/moment.min.js}"></script>
	<script th:src="@{/webjars/leaflet/leaflet.js}"></script>
	<script th:src="@{/webjars/chartjs/Chart.min.js}"></script>
	<script th:src="@{/js/rigctl-ws.js}"></script>
	<script th:src="@{/js/L.MaidenheadColoured.js}"></script>
	<script th:src="@{/js/L.fullscreen.js}"></script>
	<script th:src="@{/js/app.js}"></script>
	<script th:inline="javascript">
	var BANDS = ['2M', '70CM'];
	//var color = Chart.helpers.color;
	var horizontalBarChartData = {
		labels: BANDS,
		datasets: [{
			label: 'Band Stats',
			backgroundColor: '#00f',
			borderColor: '#f00',
			borderWidth: 1,
			data: [
				/*[[${band_2M}]]*/ 0,
				/*[[${band_70CM}]]*/ 0
			]
		}]
	};
	
	window.onload = function() {
		var ctx = document.getElementById('bandStatsChart').getContext('2d');
		window.myHorizontalBar = new Chart(ctx, {
			type: 'horizontalBar',
			data: horizontalBarChartData,
			options: {
				// Elements options apply to all of the options unless overridden in a dataset
				// In this case, we are setting the border of each horizontal bar to be 2px wide
				elements: {
					rectangle: {
						borderWidth: 2,
					}
				},
				responsive: true,
				legend: {
					position: 'right',
				},
				title: {
					display: true,
					text: 'Chart.js Horizontal Bar Chart'
				}
			}
		});
	};
	</script>
</body>

</html>